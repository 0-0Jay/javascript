<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div id="user">
      Text: <input type="text" name="search" />
      <button>지우기</button>
      <span id="remain">60</span>초
    </div>
    <div id="container">
      <span>Lorem</span><span>ipsum</span><span>dolor</span><span>sit</span
      ><span>amet,</span><span>consectetur</span><span>adipisicing</span
      ><span>elit.</span><span>Cupiditate</span><span>nobis</span
      ><span>dolorem</span><span>culpa!</span><span>Velit</span
      ><span>voluptates</span><span>explicabo</span><span>illo</span
      ><span>voluptas</span><span>ipsum,</span><span>ipsam</span
      ><span>asperiores</span><span>minima</span><span>voluptatem</span
      ><span>inventore</span><span>quae</span><span>laboriosam</span
      ><span>aliquam!</span><span>Earum</span><span>libero</span
      ><span>consequatur</span><span>similique.</span>
    </div>
    <script>
      // 화면에 있는 글들을 찾아서 지우기.
      document.querySelector("button").addEventListener("click", (e) => {
        let val = document.querySelector("input").value;
        let wordList = document.querySelectorAll("#container span");
        wordList.forEach((elem) => {
          if (elem.innerText === val) {
            elem.remove();
            document.querySelector("input").value = "";
          }
        });
      });

      document.querySelector("input").addEventListener("keyup", (e) => {
        if (e.key == "Enter") {
          let val = document.querySelector("input").value;
          let wordList = document.querySelectorAll("#container span");
          wordList.forEach((elem) => {
            if (elem.innerText === val) {
              elem.remove();
              document.querySelector("input").value = "";
            }
          });
        }
      });

      document.querySelector("input").addEventListener("click", (e) => {
        let time = setInterval(() => {
          let remain = document.querySelector("#remain");
          remain.textContent--;
          if (remain.textContent <= 0) {
            alert("실패!");
            remain.textContent = 60;
            location.reload();
          } else {
            if (document.querySelectorAll("#container span").length == 0) {
              alert("성공!");
              remain.textContent = 60;
              location.reload();
            }
          }
        }, 1000);
      });
    </script>
  </body>
</html>
